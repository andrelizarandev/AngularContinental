<app-navigation-container>

  <app-custom-breadcrumb [items]="breadcrumbItems"/>

  <app-card-with-skeleton [isLoading]="getProgramasQuery.isLoading()">

    <div class="h-flex-justify-between-align-center">

      <h3 class="c-title fw-400">Programas</h3>

      <p-button
        label="Registrar Programa"
        icon="pi pi-plus"
        size="small"
        (onClick)="toggleOpenRegister(true)"
      ></p-button>

    </div>

    <p-table [value]="getProgramasQuery.data() || []">

      <ng-template pTemplate="header">

        <tr>

          <th>CÃ³digo</th>

          <th>Nombre</th>

          <th>Acciones</th>

        </tr>

      </ng-template>

      <ng-template pTemplate="body" let-programa>

        <tr>

          <td>{{ programa.codigo }}</td>
          
          <td>{{ programa.nombre }}</td>

          <td>

            <div class="h-flex">

              <p-button 
                label="Editar"
                icon="pi pi-pencil" 
                size="small"
                (onClick)="toggleOpenRegister(false, programa)"
              ></p-button>

              <p-button 
                label="Eliminar"
                icon="pi pi-trash" 
                size="small"
                (onClick)="confirmDeletePrograma(programa)"
                severity="danger"
              >

              </p-button>

            </div>

          </td>

        </tr>

      </ng-template>

    </p-table>

  </app-card-with-skeleton>
    
</app-navigation-container>

<app-register-programa-dialog 
  [selectedPrograma]="selectedPrograma"
  [isPostRequest]="isPostRequest"
  [isRegisterOpen]="isRegisterOpen"
  (toggleOpenRegister)="toggleOpenRegister()"
/>